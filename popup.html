<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="popup.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>

<body>
  <div class="container">
    <div class="tabs">
      <button class="tab-btn active" data-tab="timer">Timer</button>
      <button class="tab-btn" data-tab="day">Day</button>
      <button class="tab-btn" data-tab="week">Week</button>
      <button class="tab-btn" data-tab="month">Month</button>
      <button class="tab-btn" data-tab="settings">Settings</button>
    </div>

    <div class="content">
      <!-- Timer Tab -->
      <div id="tab-timer" class="tab-content active">
        <!-- Mode Toggle -->
        <div class="mode-toggle-container" style="text-align:center; padding-top:10px;">
          <label class="switch">
            <input type="checkbox" id="mode-toggle">
            <span class="slider round"></span>
          </label>
          <div style="margin-top:5px; font-size:12px; color:#aaa; font-weight:bold;"><span id="mode-label">Normal
              Mode</span></div>
        </div>

        <div class="clock-container">
          <svg class="clock-svg" viewBox="0 0 280 280">
            <circle class="bg-ring" cx="140" cy="140" r="120"></circle>
            <circle class="progress-ring" cx="140" cy="140" r="120"></circle>
            <text x="140" y="140" class="timer-text">Ready</text>
            <text x="140" y="170" class="mode-text">Ready</text>
          </svg>
        </div>

        <div class="controls">
          <button id="btn-start" class="primary">▶️ Start</button>
          <button id="btn-pause" class="primary hidden">⏸️ Pause</button>
          <button id="btn-resume" class="primary hidden">▶️ Resume</button>
          <button id="btn-stop" class="hidden">⏹️ Stop</button>
          <button id="btn-skip" class="hidden">⏭️ Skip</button>
        </div>
      </div>

      <!-- Recap Tabs -->
      <div id="tab-day" class="tab-content">
        <div id="day-timeline" class="timeline" style="border:none; padding-top:0;"></div>
      </div>

      <div id="tab-week" class="tab-content">
        <div id="week-chart"></div>
      </div>

      <div id="tab-month" class="tab-content">
        <div id="tab-month"></div>
      </div>

      <!-- Settings Tab -->
      <div id="tab-settings" class="tab-content">
        <h3>Durations (minutes)</h3>
        <div class="setting-row">
          <label>Work</label>
          <input type="number" id="sets-work" min="1">
        </div>
        <div class="setting-row">
          <label>Pre-end Delta (min)</label>
          <input type="number" id="sets-pre-end" min="1" value="1">
        </div>
        <div class="setting-row">
          <label>Short Break</label>
          <input type="number" id="sets-short" min="1">
        </div>
        <div class="setting-row">
          <label>Long Break</label>
          <input type="number" id="sets-long" min="1">
        </div>
        <button id="btn-save" class="primary">Save Settings</button>

        <hr style="margin: 20px 0; border: 0; border-top: 1px solid #444;">

        <h3>Data Management</h3>
        <div style="margin-bottom:10px; display:flex; gap:10px;">
          <button id="btn-export" style="flex:1; background:#1976d2;">Export Data</button>
          <button id="btn-import-trigger" style="flex:1; background:#388e3c;">Import Data</button>
          <input type="file" id="file-import" accept=".json" style="display:none">
        </div>
        <button id="btn-reset-history" style="background:#d32f2f; width:100%">Reset History (Clear All)</button>
      </div>
    </div>
  </div>
  <script src="popup.js"></script>
</body>

</html>